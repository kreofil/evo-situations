# Добавление в программу еще одного обобщения для уже существующих фигур

Возможны различные варианты добавления в программу новых обобщений над уже существующими фигурами. В данных примерах предполагается использовать указатели на основы специализаций фигур, размещенных в контейнере фигур. Новые обобщения размещаются в отдельном массиве, и помимо указателей на основы специализаций содержат в качестве дополнительного параметра периметры фигур, вычисляемые по формулам, добавленным на третьем шаге. То есть, данная программа порождается от шага три.

## Ситуации, рассматриваемые в рамках эволюционного расширения

1. Первоначальное решение, используемое для дальнейшего расширения по различным направлениям.
2. Добавление новой альтернативы, расширяющей набор альтернатив. В данном случае добавляется круг и функции, обеспечивающие его ввод-вывод.
3. Добавление новой функции, обеспечивающей обработку всех имеющихся альтернатив. В данном случае это функция вычисления перимерта фигуры.
4. Добавление в обобщение дополнительного поля, доступного всем альтернативам, и организация для него ввода и вывода. Добавляется поле, задающее цвет фигуры.
5. Добавление функции, осуществляющей работу только с одной из альтернатив. Добавляется вывод из содержимого контейнера только прямоугольников.
6. Добавление мультиметода, осуществляющего вывод информации о комбинации для двух рассматриваемых фигур. Мультиметод выводит фразу, специфическую для каждой из комбинаций, отличающуюся по структуре от других фраз, чтобы не было возможности осуществить ее автоматическое построение.
7. Добавление в программу с мультиметодом новой альтернативы и использование ее во всех ранее сформированных функциях. В качестве новой альтернативы выступает круг.

Схема, определяющая взаимосвязи между программами, реализующими различные ситуации.

1 -> 2
1 -> 3
1 -> 4
1 -> 5
1 -> 6 -> 7
3 -> 8
