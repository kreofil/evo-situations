<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="Generator" content="Kate, the KDE Advanced Text Editor" />
<title>main.c</title>
</head>
<!-- Highlighting: "C" -->
<body>
<pre style='color:#f8f8f2;background-color:#272822;'>
<span style='color:#75715e;'>// Процедурная версия программы про хорошего и плохого полицейских</span>
<span style='color:#75715e;'>// с выбором копа на этапе компиляции. Варианты</span>
<span style='color:#75715e;'>// - плохой коп, когда при компиляции задается ключ -DBAD_COP</span>
<span style='color:#75715e;'>// - хороший коп, когда при компиляции задается ключ -DGOOD_COP</span>
<span style='color:#75715e;'>// - по умолчанию иной коп. Используется также -std=c23</span>
<span style='color:#f92672;'>#include </span><span style='color:#e6db74;'>&lt;stdio.h&gt;</span>

<span style='color:#f92672;'>#ifdef BAD_COP</span>
  <span style='color:#75715e;'>// Действие плохого полицейского</span>
  <i><span style='color:#66d9ef;'>void</span></i> ActionOfBadCop() {
    printf(<span style='color:#e6db74;'>&quot;Бац-бац...</span><span style='color:#ae81ff;'>\n</span><span style='color:#e6db74;'>&quot;</span>);
  }
<span style='color:#f92672;'>#elifdef GOOD_COP</span>
<span style='color:#75715e;'>// Действие хорошего полицейского</span>
  <i><span style='color:#66d9ef;'>void</span></i> ActionOfGoogCop() {
    printf(<span style='color:#e6db74;'>&quot;Именем закона...</span><span style='color:#ae81ff;'>\n</span><span style='color:#e6db74;'>&quot;</span>);
  }
<span style='color:#f92672;'>#endif</span>

<span style='color:#75715e;'>// Обобщенное действие полицейского</span>
<i><span style='color:#66d9ef;'>void</span></i> Action() {
  <span style='color:#f92672;'>#ifdef BAD_COP</span>
    ActionOfBadCop();
  <span style='color:#f92672;'>#elifdef GOOD_COP</span>
    ActionOfGoogCop();
  <span style='color:#f92672;'>#else</span>
    printf(<span style='color:#e6db74;'>&quot;Непонятно, какой полицейский.</span><span style='color:#ae81ff;'>\n</span><span style='color:#e6db74;'>&quot;</span>);
  <span style='color:#f92672;'>#endif</span>
}

<i><span style='color:#66d9ef;'>int</span></i> main() {
  Action();
  <span style='color:#f92672;'>return</span> <span style='color:#ae81ff;'>0</span>;
}
</pre>
</body>
</html>
